<template>
  <template if:true={isLoading}>
    <lightning-spinner
      alternative-text="Loading"
      size="medium"
      variant="brand"
    ></lightning-spinner>
  </template>
  <template if:false={isLoading}>
    <template if:true={paymentsListIsFilled}>
      <table
        class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered"
      >
        <thead>
          <tr class="slds-line-height_reset">
            <template for:each={columns} for:item="col">
              <th scope="col" key={col.label}>
                <div class="slds-truncate" title={col.label}>{col.label}</div>
              </th>
            </template>
          </tr>
        </thead>
        <tbody>
          <template for:each={data} for:item="payment">
            <tr class="slds-hint-parent" key={payment.id}>
              <th data-label="Link" scope="row">
                <div class="slds-truncate" title="Id">
                  <a href={payment.id}>Id</a>
                </div>
              </th>
              <td data-label="Month">
                <div class="slds-truncate" title={payment.month}>
                  {payment.month}
                </div>
              </td>
              <td data-label="Year">
                <div class="slds-truncate" title={payment.year}>
                  {payment.year}
                </div>
              </td>
              <td data-label="Amount">
                <div class="slds-truncate" title={payment.amount}>
                  ${payment.amount}
                </div>
              </td>
              <td data-label="Status">
                <template if:true={payment.isSuccess}>
                  <div
                    class="slds-truncate slds-text-color_success"
                    title={payment.status}
                  >
                    {payment.status}
                  </div>
                </template>
                <template if:false={payment.isSuccess}>
                  <div
                    class="slds-truncate slds-text-color_error"
                    title={payment.status}
                  >
                    {payment.status}
                  </div>
                </template>
              </td>
            </tr>
          </template>
        </tbody>
      </table>
    </template>
    <template if:false={paymentsListIsFilled}>
      <h2
        class="slds-align_absolute-center slds-text-heading_medium slds-p-bottom_medium slds-p-bottom_medium"
      >
        No payments made yet...
      </h2>
    </template>
  </template>
</template>
